<UserControl
  x:Class="rnzTradingSim.Views.GamblingView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:games="clr-namespace:rnzTradingSim.Views.Games"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:local="clr-namespace:rnzTradingSim"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  d:DesignHeight="800"
  d:DesignWidth="1200"
  mc:Ignorable="d">

  <Grid Margin="20">
    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
      <!--  Título  -->
      <TextBlock
        Margin="0,0,0,15"
        HorizontalAlignment="Center"
        FontSize="32"
        FontWeight="Bold"
        Text="Gambling" />

      <!--  Game Tabs  -->
      <StackPanel
        Margin="0,0,0,15"
        HorizontalAlignment="Center"
        Orientation="Horizontal">
        <ItemsControl ItemsSource="{Binding GameTabs}">
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <StackPanel Orientation="Horizontal" />
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <Button
                Height="40"
                MinWidth="100"
                Margin="5,0"
                Command="{Binding DataContext.SelectGameCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                CommandParameter="{Binding Name}"
                Content="{Binding Name}" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>

      <!--  Game Content  -->
      <hc:Card
        Width="900"
        Height="500"
        Margin="10"
        Padding="20">

        <Grid>
          <!--  Coinflip Game  -->
          <games:CoinflipControl
            x:Name="CoinflipGame"
            DataContext="{Binding CoinflipViewModel}"
            Visibility="{Binding DataContext.SelectedGame, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Coinflip}" />

          <!--  Slots Game  -->
          <games:SlotsControl
            x:Name="SlotsGame"
            DataContext="{Binding SlotsViewModel}"
            Visibility="{Binding DataContext.SelectedGame, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Slots}" />

          <!--  Mines Game (Placeholder)  -->
          <Border Visibility="{Binding DataContext.SelectedGame, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Mines}">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
              <TextBlock FontSize="48" Text="💣" />
              <TextBlock
                FontSize="24"
                FontWeight="Bold"
                Text="Mines" />
              <TextBlock Text="Coming Soon!" />
            </StackPanel>
          </Border>

          <!--  Dice Game (Placeholder)  -->
          <Border Visibility="{Binding DataContext.SelectedGame, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Dice}">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
              <TextBlock FontSize="48" Text="🎲" />
              <TextBlock
                FontSize="24"
                FontWeight="Bold"
                Text="Dice" />
              <TextBlock Text="Coming Soon!" />
            </StackPanel>
          </Border>
        </Grid>
      </hc:Card>
    </StackPanel>
  </Grid>
</UserControl>