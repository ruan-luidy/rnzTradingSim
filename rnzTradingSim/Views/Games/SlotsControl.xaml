<UserControl
  x:Class="rnzTradingSim.Views.Games.SlotsControl"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:local="clr-namespace:rnzTradingSim"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  d:DesignHeight="450"
  d:DesignWidth="400"
  mc:Ignorable="d">

  <StackPanel Margin="20">
    <!--  Session Balance  -->
    <hc:Card Margin="0,0,0,20" Padding="15">
      <StackPanel HorizontalAlignment="Center">
        <TextBlock
          HorizontalAlignment="Center"
          FontSize="12"
          Text="Session P&amp;L" />
        <TextBlock
          HorizontalAlignment="Center"
          FontSize="20"
          FontWeight="Bold"
          Text="{Binding SessionBalance, StringFormat='{}{0:+$#,0.00;-$#,0.00;$0.00}'}" />
      </StackPanel>
    </hc:Card>

    <!--  Slot Machine  -->
    <Border
      Height="120"
      Margin="0,0,0,20"
      Background="{DynamicResource RegionBrush}"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="2"
      CornerRadius="10">
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Slot Reels  -->
        <Border
          Grid.Column="0"
          Margin="5"
          BorderBrush="{DynamicResource BorderBrush}"
          BorderThickness="1">
          <TextBlock
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            FontSize="36"
            Text="{Binding Reels[0]}" />
        </Border>

        <Border
          Grid.Column="1"
          Margin="5"
          BorderBrush="{DynamicResource BorderBrush}"
          BorderThickness="1">
          <TextBlock
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            FontSize="36"
            Text="{Binding Reels[1]}" />
        </Border>

        <Border
          Grid.Column="2"
          Margin="5"
          BorderBrush="{DynamicResource BorderBrush}"
          BorderThickness="1">
          <TextBlock
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            FontSize="36"
            Text="{Binding Reels[2]}" />
        </Border>

        <!--  Loading overlay  -->
        <Border
          Grid.ColumnSpan="3"
          Background="{DynamicResource RegionBrush}"
          CornerRadius="10"
          Opacity="0.8"
          Visibility="{Binding IsSpinning, Converter={StaticResource Boolean2VisibilityConverter}}">
          <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
            <hc:LoadingCircle
              Width="40"
              Height="40"
              IsRunning="{Binding IsSpinning}" />
            <TextBlock
              Margin="0,5,0,0"
              HorizontalAlignment="Center"
              FontSize="12"
              FontWeight="Bold"
              Text="SPINNING..." />
          </StackPanel>
        </Border>
      </Grid>
    </Border>

    <!--  Bet Amount  -->
    <StackPanel Margin="0,0,0,20">
      <TextBlock
        Margin="0,0,0,10"
        HorizontalAlignment="Center"
        FontSize="14"
        FontWeight="Bold"
        Text="Bet Amount" />

      <hc:NumericUpDown
        Height="40"
        Maximum="5000"
        Minimum="1"
        Value="{Binding BetAmount}" />

      <!--  Quick Bet Buttons  -->
      <Grid Margin="0,10,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Button
          Grid.Column="0"
          Height="30"
          Margin="0,0,2,0"
          Command="{Binding SetBetPercentageCommand}"
          CommandParameter="0.25"
          Content="25%" />
        <Button
          Grid.Column="1"
          Height="30"
          Margin="2,0,2,0"
          Command="{Binding SetBetPercentageCommand}"
          CommandParameter="0.50"
          Content="50%" />
        <Button
          Grid.Column="2"
          Height="30"
          Margin="2,0,2,0"
          Command="{Binding SetBetPercentageCommand}"
          CommandParameter="0.75"
          Content="75%" />
        <Button
          Grid.Column="3"
          Height="30"
          Margin="2,0,0,0"
          Command="{Binding SetBetPercentageCommand}"
          CommandParameter="1.0"
          Content="Max" />
      </Grid>
    </StackPanel>

    <!--  Spin Button  -->
    <Button
      Height="50"
      Command="{Binding SpinCommand}"
      Content="{Binding IsSpinning, Converter={x:Static local:Converters.SpinButtonTextConverter}}"
      FontSize="16"
      FontWeight="Bold"
      IsEnabled="{Binding IsSpinning, Converter={x:Static local:Converters.InverseBooleanConverter}}" />

    <!--  Paytable  -->
    <hc:Divider Margin="0,20,0,15" />
    <TextBlock
      Margin="0,0,0,10"
      HorizontalAlignment="Center"
      FontSize="14"
      FontWeight="Bold"
      Text="Paytable" />

    <StackPanel>
      <Grid Margin="0,3">
        <TextBlock FontSize="14" Text="💎💎💎" />
        <TextBlock
          HorizontalAlignment="Right"
          FontSize="14"
          FontWeight="Bold"
          Text="100x" />
      </Grid>
      <Grid Margin="0,3">
        <TextBlock FontSize="14" Text="⭐⭐⭐" />
        <TextBlock
          HorizontalAlignment="Right"
          FontSize="14"
          FontWeight="Bold"
          Text="50x" />
      </Grid>
      <Grid Margin="0,3">
        <TextBlock FontSize="14" Text="🔔🔔🔔" />
        <TextBlock
          HorizontalAlignment="Right"
          FontSize="14"
          FontWeight="Bold"
          Text="25x" />
      </Grid>
      <Grid Margin="0,3">
        <TextBlock FontSize="14" Text="🍒🍒🍒" />
        <TextBlock
          HorizontalAlignment="Right"
          FontSize="14"
          FontWeight="Bold"
          Text="5x" />
      </Grid>
    </StackPanel>
  </StackPanel>
</UserControl>