<hc:Window
  x:Class="rnzTradingSim.MainWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:local="clr-namespace:rnzTradingSim"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:views="clr-namespace:rnzTradingSim.Views"
  Title="rnzTradingSim"
  Width="1400"
  Height="900"
  WindowState="Maximized"
  mc:Ignorable="d">

  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="250" />
      <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>

    <!--  Sidebar  -->
    <Border Grid.Column="0" Background="{DynamicResource RegionBrush}">
      <StackPanel Margin="15">
        <!--  Logo/Brand  -->
        <StackPanel Margin="0,20,0,30" HorizontalAlignment="Center">
          <TextBlock
            HorizontalAlignment="Center"
            FontWeight="Bold"
            Text="ruzinhobrabo" />
          <TextBlock HorizontalAlignment="Center" Text="Gaming Simulator" />
        </StackPanel>

        <!--  User Stats  -->
        <hc:Card Margin="5" Padding="15">
          <StackPanel>
            <TextBlock HorizontalAlignment="Center" Text="Balance" />
            <TextBlock
              HorizontalAlignment="Center"
              FontWeight="Bold"
              Text="{Binding Balance, StringFormat='${0:N2}'}" />
          </StackPanel>
        </hc:Card>

        <!--  Navigation  -->
        <hc:Divider Margin="0,20" />
        <TextBlock
          Margin="10,0,0,10"
          FontWeight="Bold"
          Text="NAVIGATION" />

        <StackPanel>
          <Button
            Margin="5"
            Command="{Binding NavigateCommand}"
            CommandParameter="Home"
            Content="Home" />

          <Button
            Margin="5"
            Command="{Binding NavigateCommand}"
            CommandParameter="Market"
            Content="Market" />

          <Button
            Margin="5"
            Command="{Binding NavigateCommand}"
            CommandParameter="Gambling"
            Content="Gambling" />

          <Button
            Margin="5"
            Command="{Binding NavigateCommand}"
            CommandParameter="Portfolio"
            Content="Portfolio" />

          <Button
            Margin="5"
            Command="{Binding NavigateCommand}"
            CommandParameter="Leaderboard"
            Content="Leaderboard" />
        </StackPanel>

        <!--  Quick Stats  -->
        <hc:Divider Margin="0,30,0,20" />
        <TextBlock
          Margin="10,0,0,10"
          FontSize="12"
          FontWeight="Bold"
          Text="QUICK STATS" />

        <StackPanel>
          <Border Margin="5" Padding="10">
            <Grid>
              <TextBlock Text="Profit/Loss" />
              <TextBlock
                HorizontalAlignment="Right"
                FontWeight="Bold"
                Text="{Binding ProfitLoss, StringFormat='{}{0:+$#,0;-$#,0;$0}'}" />
            </Grid>
          </Border>

          <Border Margin="5" Padding="10">
            <Grid>
              <TextBlock Text="Rank" />
              <TextBlock
                HorizontalAlignment="Right"
                FontWeight="Bold"
                Text="{Binding Rank, StringFormat='#{0}'}" />
            </Grid>
          </Border>
        </StackPanel>
      </StackPanel>
    </Border>

    <!--  Main Content Area  -->
    <Grid Grid.Column="1">
      <!--  Gambling View  -->
      <views:GamblingView
        x:Name="GamblingViewContainer"
        DataContext="{Binding GamblingViewModel}"
        Visibility="{Binding DataContext.CurrentView, RelativeSource={RelativeSource AncestorType=hc:Window}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Gambling}" />

      <!--  Home View (Placeholder)  -->
      <Border x:Name="HomeViewContainer" Visibility="{Binding DataContext.CurrentView, RelativeSource={RelativeSource AncestorType=hc:Window}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Home}">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock FontWeight="Bold" Text="Home" />
          <TextBlock Text="Welcome to rnzTradingSim!" />
        </StackPanel>
      </Border>

      <!--  Market View (Placeholder)  -->
      <Border x:Name="MarketViewContainer" Visibility="{Binding DataContext.CurrentView, RelativeSource={RelativeSource AncestorType=hc:Window}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Market}">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock FontWeight="Bold" Text="Market" />
          <TextBlock Text="Coming Soon!" />
        </StackPanel>
      </Border>

      <!--  Portfolio View (Placeholder)  -->
      <Border x:Name="PortfolioViewContainer" Visibility="{Binding DataContext.CurrentView, RelativeSource={RelativeSource AncestorType=hc:Window}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Portfolio}">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock FontWeight="Bold" Text="Portfolio" />
          <TextBlock Text="Coming Soon!" />
        </StackPanel>
      </Border>

      <!--  Leaderboard View (Placeholder)  -->
      <Border x:Name="LeaderboardViewContainer" Visibility="{Binding DataContext.CurrentView, RelativeSource={RelativeSource AncestorType=hc:Window}, Converter={StaticResource String2VisibilityConverter}, ConverterParameter=Leaderboard}">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock FontWeight="Bold" Text="Leaderboard" />
          <TextBlock Text="Coming Soon!" />
        </StackPanel>
      </Border>
    </Grid>
  </Grid>
</hc:Window>